ğŸ“¦ .mni ë°ì´í„°íƒ€ì… (MVP â†’ Full)
ğŸ§© 1) ê³µí†µ ì›ì¹™

schema_version: "1.0-mvp", "1.0" ë“±ìœ¼ë¡œ ì„¸ë¶„í™”

í•˜ìœ„ í˜¸í™˜ì„±: MVP âŠ‚ Full (MVP íŒŒì¼ì€ Full ëŸ°íƒ€ì„ì—ì„œ ê·¸ëŒ€ë¡œ ì‹¤í–‰ ê°€ëŠ¥)

ê²°ì •ì„±: í•µì‹¬ í•„ë“œë§Œìœ¼ë¡œ hash_key ì‚°ì¶œ â†’ ìºì‹œÂ·ì¦ë¶„ ë Œë” ê¸°ì¤€

âš¡ 2) MVP ìŠ¤í‚¤ë§ˆ
2.1 í•„ë“œ ì •ì˜

í•„ìˆ˜

schema_version: string

problem: { id, statement, metadata }

proof_tape: array<string> ë˜ëŠ” array<object>{step, expr_in, expr_out}

visual: { type: "ManimScene", sections[] }

verification: { sympy: string|object }

ì„ íƒ

build: { options, hash_key, created_at }

notes: string

2.2 ì œì•½(Validation)

visual.sections[].steps[].action âˆˆ { CreateAxes, PlotFunction, HighlightPoint, CreateTex, FadeIn, Indicate }

verification.sympyëŠ” ì‹¤í–‰ ê°€ëŠ¥í•œ ìµœì†Œ ì½”ë“œ ë¬¸ìì—´ ë˜ëŠ” {code, status} ê°ì²´

2.3 MVP ì˜ˆì‹œ
{
  "schema_version": "1.0",
  "problem": {
    "id": "QF001",
    "statement": "í•¨ìˆ˜ y = x^2 - 4x + 3ì˜ ê¼­ì§“ì ì„ êµ¬í•˜ë¼",
    "metadata": { "subject": "ìˆ˜í•™", "unit": "ì´ì°¨í•¨ìˆ˜", "difficulty": "ì¤‘ê°„", "time_estimate_min": 3 }
  },
  "proof_tape": [
    {"step":1,"rule":"complete_square","expr_in":"x^2-4x+3","expr_out":"(x-2)^2-1"},
    {"step":2,"rule":"vertex","expr_in":"(x-2)^2-1","expr_out":"(2,-1)"}
  ],
  "visual": {
    "type": "ManimScene",
    "sections": [
      {
        "section_name": "Graph",
        "steps": [
          { "action": "CreateAxes", "x_range": [-2,6], "y_range": [-2,10] },
          { "action": "PlotFunction", "function": "x**2 - 4*x + 3" },
          { "action": "HighlightPoint", "point": [2, -1], "color": "yellow" }
        ]
      }
    ]
  },
  "verification": {
    "sympy": { "code":"...", "status":"pass", "artifacts":["vx=2","vy=-1"] }
  },
  "build": {
    "options": { "fps": 30, "resolution": "1400x800", "theme":"dark" },
    "hash_key": "QF001:9b7c...:v1",
    "created_at": "2025-09-04T07:15:00Z"
  }
}

ğŸš€ 3) Full ìŠ¤í‚¤ë§ˆ
3.1 í•„ìˆ˜ í•„ë“œ (MVP + Î±)

problem (í™•ì¥ëœ ë©”íƒ€ í¬í•¨)

structure.tot (ì¶”ë¡  íŠ¸ë¦¬), structure.pot (ê³„ì‚° ì½”ë“œ)

proof_tape (ê°ì²´ ë°°ì—´ {step,rule,expr_in,expr_out,comment})

visual (ManimScene/GeoGebra/ThreeJS í—ˆìš©)

verification (sympy + wolfram_alpha ë“± ë©€í‹°ì—”ì§„)

assets, build, publish, metrics, i18n, provenance

3.2 ì œì•½

structure.pot.lang âˆˆ {"python","sympy"}

visual.type âˆˆ {"ManimScene","GeoGebra","ThreeJS"}

build.hash_key = ë¬¸ì œID + ì •ê·œí™”ìˆ˜ì‹ + visual + build.options ê¸°ë°˜ í•´ì‹œ

3.3 Full ì˜ˆì‹œ (ìš”ì•½í˜•)
{
  "schema_version": "1.0",
  "problem": { ... },
  "structure": {
    "tot": { "nodes":[...], "edges":[...] },
    "pot": { "lang": "python", "cells": ["...", "..."] }
  },
  "proof_tape": [
    {"step":1,"rule":"complete_square","expr_in":"x^2-4x+3","expr_out":"(x-2)^2-1","comment":"í‘œì¤€í˜•"},
    {"step":2,"rule":"vertex","expr_in":"(x-2)^2-1","expr_out":"(2,-1)"}
  ],
  "visual": { ... },
  "verification": {
    "sympy": { "code":"...", "status":"pass","artifacts":["vx=2","vy=-1"] },
    "wolfram_alpha": { "query":"vertex of y=x^2-4x+3", "used": false }
  },
  "build": { "options": {...}, "hash_key": "...", "created_at": "..." },
  "publish": { "targets": [ { "type":"web", "url":"...", "meta":{...} } ] },
  "metrics": { "verify_pass": true, "render_ms": 1250, "cache_hit": false }
}

â™»ï¸ 4) MVP â†’ Full ì „í™˜ ê·œì¹™

ê·¸ëŒ€ë¡œ ìŠ¹ê²©: proof_tape: string[] â†’ object[]

ì¶”ê°€ í™•ì¥: structure, publish, metrics, i18n, provenance, assets

í•´ì‹œ ì•ˆì •ì„±: hash_keyëŠ” ë Œë” ì˜í–¥ í•„ë“œë§Œ í¬í•¨

ğŸ“‹ 5) íƒ€ì… ì²´í¬ë¦¬ìŠ¤íŠ¸

problem.id: ^[A-Za-z0-9._-]{3,64}$

proof_tape: MVP=string[] / Full=object[]

visual.sections[].steps[]: {action:string, ...payload}

verification.sympy: MVP=string / Full={code,status,artifacts[]}

structure.pot.lang: "python"|"sympy"

build.options: {fps,resolution,theme}

metrics: ìˆ«ì/ë¶ˆë¦¬ì–¸ ìœ„ì£¼

ğŸ›  6) êµ¬í˜„ ìˆœì„œ (MVP â†’ Full)

MVP ì‹¤í–‰ ê²½ë¡œ: problem + proof_tape + visual + verification.sympy

í…œí”Œë¦¿ í™•ì¥: visual ì•¡ì…˜ ì¶”ê°€ & ê³µí†µ ìŠ¤íƒ€ì¼ ë„ì…

ê²€ì¦ ê°•í™”: sympy ê°ì²´í™” + ì™¸ë¶€ CAS fallback

êµ¬ì¡°í™” ë„ì…: structure.tot/pot ì¶”ê°€, ProofTape ì—°ê²°

ìš´ì˜ í™•ì¥: build.hash_key, publish, metrics, i18n, provenance ë„ì…